---
import {TypewriterEffectSmooth} from '../components/ui/typewriter-effect.tsx'
import { Tilt} from '../components/ui/tilt.tsx'
import {HoverEffect } from '../components/ui/card-hover-effect.tsx'
import {TestimonialsColumn} from '../components/blocks/testimonials-columns-1.tsx'
import { motion } from "motion/react";
import "../../global.css"
const wordArray = [  {text: "a lifelong student.", className: "text-blue-500 dark:text-blue-500"} ];
 const projects = [
  {
    title: "Project 1",
    description:"Description for Project 1 - Going to be a video platform.",
    link: "/projects",
  },
  {
    title: "Project 2",
    description: "Description for Project 2 - Going to be a diagram maker.",
    link: "/projects",
  },
  {
    title: "Project 3",
    description: "Description for Project 3 - Going to be a progress checker.",
    link: "https://google.com",
  },
  ];

const blogs = [
  {
    title: "Blog Post 1",
    description:
      "A technology company that builds economic infrastructure for the internet.",
      link: "/posts/blogs",
  },
  {
    title: "Blog Post 2",
    description:
      "A streaming service that offers a wide variety of award-winning TV shows, movies, anime, documentaries, and more on thousands of internet-connected devices.",
      link: "/posts/blogs",
  },
  {
    title: "Blog Post 3",
    description:
      "A multinational technology company that specializes in Internet-related services and products.",
    link: "/posts/blogs",
  },

  /*
   {
    title: "Blog Post 4",
    description:
      "A technology company that builds economic infrastructure for the internet.",
      link: "/posts/blogs",
  },
  {
    title: "Blog Post 5",
    description:
      "A streaming service that offers a wide variety of award-winning TV shows, movies, anime, documentaries, and more on thousands of internet-connected devices.",
      link: "/posts/blogs",
  },
  {
    title: "Blog Post 6",
    description:
      "A multinational technology company that specializes in Internet-related services and products.",
      link: "/posts/blogs",
      }, */

  ];

const testimonials = [
  {
    text: "This ERP revolutionized our operations, streamlining finance and inventory. The cloud-based platform keeps us productive, even remotely.",
    image: "https://randomuser.me/api/portraits/women/1.jpg",
    name: "Briana Patton",
    role: "Operations Manager",
  },
  {
    text: "Implementing this ERP was smooth and quick. The customizable, user-friendly interface made team training effortless.",
    image: "https://randomuser.me/api/portraits/men/2.jpg",
    name: "Bilal Ahmed",
    role: "IT Manager",
  },
  {
    text: "The support team is exceptional, guiding us through setup and providing ongoing assistance, ensuring our satisfaction.",
    image: "https://randomuser.me/api/portraits/women/3.jpg",
    name: "Saman Malik",
    role: "Customer Support Lead",
  },
  {
    text: "This ERP's seamless integration enhanced our business operations and efficiency. Highly recommend for its intuitive interface.",
    image: "https://randomuser.me/api/portraits/men/4.jpg",
    name: "Omar Raza",
    role: "CEO",
  },
  {
    text: "Its robust features and quick support have transformed our workflow, making us significantly more efficient.",
    image: "https://randomuser.me/api/portraits/women/5.jpg",
    name: "Zainab Hussain",
    role: "Project Manager",
  },
  {
    text: "The smooth implementation exceeded expectations. It streamlined processes, improving overall business performance.",
    image: "https://randomuser.me/api/portraits/women/6.jpg",
    name: "Aliza Khan",
    role: "Business Analyst",
  },
  {
    text: "Our business functions improved with a user-friendly design and positive customer feedback.",
    image: "https://randomuser.me/api/portraits/men/7.jpg",
    name: "Farhan Siddiqui",
    role: "Marketing Director",
  },
  {
    text: "They delivered a solution that exceeded expectations, understanding our needs and enhancing our operations.",
    image: "https://randomuser.me/api/portraits/women/8.jpg",
    name: "Sana Sheikh",
    role: "Sales Manager",
  },
  {
    text: "Using this ERP, our online presence and conversions significantly improved, boosting business performance.",
    image: "https://randomuser.me/api/portraits/men/9.jpg",
    name: "Hassan Ali",
    role: "E-commerce Manager",
  },
];


const firstColumn = testimonials.slice(0, 3);
const secondColumn = testimonials.slice(3, 6);
const thirdColumn = testimonials.slice(6, 9);

---
<section class="w-full max-w-screen-xl mx-auto flex lg:flex-row flex-col" >
  <div class="flex flex-col justify-center lg:justify-start lg:basis-[65%] lg:flex-grow-0 lg:flex-shrink-0 mt-4 ">
    <div class="w-full flex flex-row items-center ">
      <p class="text-5xl mt-6 mr-4 pt-1 font-bold ">Hi there, I'm Abhay, <span class="animate-wave">ðŸ‘‹</span> </p>
    </div>

    <div class="w-full mx-auto ">
      <TypewriterEffectSmooth words={wordArray} client:only />
    </div>
    <div class="w-[80%]" >
      <p class="sm:w-full flex lg:justify-start mt-4 ">
      From trying to create a living as a marketer and a freelance writer to stumbling on Linux one day and developing a whole new passion for technology, I've transitioned from a person who hates to sit in front of a laptop to a freak who panics when away from his laptop for a day or two.
      Today, I'm working at a growing startup with some amazing people, where we're building cloud-based AI pipelines, experimenting with LLMs and solving real-problem with code.
      </p>
    </div>
    <div class="w-full flex justify-start mt-7 gap-10 ">
        <a href="https://x.com/abhayrsr76" aria-label="Twitter" >
            <svg fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53A4.48 4.48 0 0 0 22.4.36a9.09 9.09 0 0 1-2.88 1.1A4.52 4.52 0 0 0 16.11 0c-2.5 0-4.52 2.17-4.52 4.86 0 .38.04.75.12 1.1C7.69 5.82 4.07 3.86 1.64.88a4.93 4.93 0 0 0-.61 2.44c0 1.68.86 3.17 2.17 4.04A4.48 4.48 0 0 1 .96 6.5v.05c0 2.35 1.61 4.3 3.75 4.74a4.52 4.52 0 0 1-2.05.08c.58 1.89 2.25 3.27 4.23 3.3A9.05 9.05 0 0 1 0 19.54a12.8 12.8 0 0 0 6.95 2.06c8.33 0 12.88-7.22 12.88-13.49 0-.2 0-.41-.02-.61A9.18 9.18 0 0 0 23 3z"/>
            </svg> 
        </a>
          <a href="https://linkedin.com/in/abhay-raj-01ab7a278/" aria-label="LinkedIn" class="social-link">
           <svg fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
  <path d="M4.98 3.5C4.98 2.12 6.1 1 7.48 1s2.5 1.12 2.5 2.5S8.86 6 7.48 6 4.98 4.88 4.98 3.5zM2 8h4.96v12H2zM9.04 8H14v1.84h.06c.69-1.29 2.37-2.64 4.86-2.64C21.93 7.2 23 9.22 23 12.29V20h-4.96v-7.17c0-1.71-.03-3.91-2.37-3.91-2.37 0-2.73 1.85-2.73 3.78V20H9.04z"/>
           </svg>
          </a>
          <a href="https://github.com/abhayrsr" aria-label="Github" class="social-link">
            <svg fill="currentColor" viewBox="0 0 24 24" class="w-5.5 h-5.5">
  <path d="M12 0C5.37 0 0 5.4 0 12.08c0 5.34 3.44 9.86 8.21 11.47.6.11.82-.26.82-.58 0-.29-.01-1.05-.01-2.05-3.34.73-4.04-1.61-4.04-1.61-.55-1.42-1.35-1.8-1.35-1.8-1.1-.77.08-.75.08-.75 1.21.09 1.85 1.27 1.85 1.27 1.08 1.87 2.83 1.33 3.52 1.01.11-.8.42-1.33.76-1.64-2.66-.31-5.47-1.36-5.47-6.06 0-1.34.47-2.44 1.24-3.3-.13-.31-.54-1.56.12-3.25 0 0 1.01-.33 3.3 1.26a11.3 11.3 0 0 1 6 0c2.29-1.59 3.3-1.26 3.3-1.26.66 1.69.25 2.94.12 3.25.77.86 1.23 1.96 1.23 3.3 0 4.71-2.81 5.74-5.49 6.05.43.37.81 1.11.81 2.24 0 1.62-.01 2.93-.01 3.33 0 .32.22.69.83.57C20.57 21.94 24 17.42 24 12.08 24 5.4 18.63 0 12 0z"/>
</svg>
          </a>

        </div>
    </div>
  </div>
  <div class="flex items-center justify-end lg:w-[35%] ">

        <Tilt rotationFactor={15} isRevese client:only>
      <div
        style={{
          borderRadius: '12px',
        }}
          class='flex flex-col mt-7 border  hover:border-blue-500 border-zinc-950/10 bg-white dark:border-zinc-50/10 dark:bg-transparent'
      >
        <img
          src='https://images.beta.cosmos.so/f7fcb95d-981b-4cb3-897f-e35f6c20e830?format=jpeg'
          alt='Ghost in the shell - KÃ´kaku kidÃ´tai'
          class='flex w-full object-cover'
        />
        <div class='p-2'>
          <h1 class='font-mono leading-snug text-zinc-950 dark:text-zinc-50'>
            Let's Rock n Roll 
          </h1>
        <p class='text-zinc-700 dark:text-zinc-400'>Hire me ðŸ¥· - <span> abhayrajsinghrana123@gmail.com </span></p>
          {/* 
              <div class="flex lg:flex-row flex-col gap-2">
            <input
              type="text"
              class="h-8 border-2 border-gray-500 px-4 py-2 rounded"
              placeholder="enter your email"
            />

          <button
            class="h-8 md:w-32 border-2 border-blue-500 px-4 py-2 rounded flex items-center md:justify-center cursor-pointer"
          >
            Submit
          </button>   
        </div>

        */}        
        </div>
      </div>
     </Tilt>


  </div>
</section>
<section class="mx-auto z-20">
   <div id="projects-hover-section">
      <HoverEffect  items={projects} client:only/>
   </div>
  <div class="flex justify-center delayed-fade-in">
    <a href="/projects" class="border rounded-sm border-blue-500 hover:bg-gray-900 hover:text-white cursor-pointer p-2 active:scale-95 transition-transform">View All Projects</a>
  </div>

</section>
<section class="max-w-5xl mx-auto z-20">
   <div id="blogs-hover-section">
      <HoverEffect items={blogs} client:only/>
   </div>
  <div class="flex justify-center delayed-fade-in">
    <a href="/posts/blogs" class="border rounded-sm border-blue-500 hover:bg-gray-900 hover:text-white cursor-pointer p-2  z-16 active:scale-95 transition-transform">View All Articles </a>
  </div>
</section>

<script is:inline>
  let activeProjectsCardIndex = null;
  let activeBlogsCardIndex = null;
  let projectsInterval = null;
  let blogsInterval = null;

  const projectsSection = document.getElementById('projects-hover-section');
  const blogsSection = document.getElementById('blogs-hover-section');

  const observerCallback = (entries) => {
    entries.forEach(entry => {
      if (entry.target.id === 'projects-hover-section') {
        if (entry.isIntersecting) {
          let currentIdx = 0;
          projectsInterval = setInterval(() => {
            activeProjectsCardIndex = currentIdx;
            // Dispatch a custom event to update the React component
            window.dispatchEvent(new CustomEvent('updateProjectsHover', { detail: currentIdx }));
            currentIdx = (currentIdx + 1) % projects.length;
          }, 2000); // Change card every 2 seconds
        } else {
          clearInterval(projectsInterval);
          activeProjectsCardIndex = null;
          window.dispatchEvent(new CustomEvent('updateProjectsHover', { detail: null }));
        }
      } else if (entry.target.id === 'blogs-hover-section') {
        if (entry.isIntersecting) {
          let currentIdx = 0;
          blogsInterval = setInterval(() => {
            activeBlogsCardIndex = currentIdx;
            // Dispatch a custom event to update the React component
            window.dispatchEvent(new CustomEvent('updateBlogsHover', { detail: currentIdx }));
            currentIdx = (currentIdx + 1) % blogs.length;
          }, 2000); // Change card every 2 seconds
        } else {
          clearInterval(blogsInterval);
          activeBlogsCardIndex = null;
          window.dispatchEvent(new CustomEvent('updateBlogsHover', { detail: null }));
        }
      }
    });
  };

  const observer = new IntersectionObserver(observerCallback, {
    root: null, // viewport
    threshold: 0.5 // 50% of the section must be visible
  });

  if (projectsSection) observer.observe(projectsSection);
  if (blogsSection) observer.observe(blogsSection);

  // Listen for custom events in the React components
  window.addEventListener('updateProjectsHover', (event) => {
    // This part needs to be handled within the React component itself
    // as Astro cannot directly update React component props from inline script
  });
  window.addEventListener('updateBlogsHover', (event) => {
    // This part needs to be handled within the React component itself
  });
</script>


